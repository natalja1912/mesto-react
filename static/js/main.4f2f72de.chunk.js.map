{"version":3,"sources":["components/Header/Header.js","utils/api.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/PopupWithForm/PopupWithForm.js","components/ImagePopup/ImagePopup.js","components/Footer/Footer.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/AddDeletePopup/AddDeletePopup.js","utils/formValidator.js","components/App.js","serviceWorker.js","index.js","images/header-logo.svg"],"names":["Header","className","src","headerLogoPath","alt","api","options","this","_url","baseUrl","_headers","headers","fetch","then","res","ok","json","Promise","reject","status","data","method","body","JSON","stringify","name","about","link","cardId","isLiked","avatar","authorization","CurrentUserContext","React","createContext","Card","card","handleCard","handleCardLike","handleCardDelete","currentUser","useContext","isOwn","_id","owner","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","onClick","aria-label","type","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","onCardClick","style","backgroundImage","map","item","key","PopupWithForm","props","isOpen","onSubmit","noValidate","title","children","buttonText","onClose","ImagePopup","Footer","EditProfilePopup","onUpdateUser","isLoading","useState","setName","description","setDescription","useEffect","e","preventDefault","handleSubmit","onChange","target","value","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onUpdateCard","setLink","AddDeletePopup","FormValidator","form","_form","_inputList","Array","from","querySelectorAll","inputSelector","_button","querySelector","buttonSelector","_fieldSelector","fieldSelector","_errorSelector","errorSelector","addEventListener","evt","_toggleSubmitButton","forEach","formInput","formError","closest","_isValid","validity","valid","_hideInputError","_showInputError","classList","add","textContent","validationMessage","remove","input","reset","_hasInvalidInput","setAttribute","removeAttribute","_setEventListeners","selectors","formSelector","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeletePopupOpen","setDeletePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","cardToDelete","setCardToDelete","closeAllPopups","undefined","getUserInfo","catch","err","console","log","getInitialCards","items","placeValidator","document","enableValidation","formReset","profileValidator","avatarValidator","Provider","changeLike","newCard","newCards","c","user","sendUserInfo","finally","handleUpdateUser","postNewCard","handleAddPlaceSubmit","deleteCard","filter","changeAvatar","handleUpdateAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.4f2f72de.chunk.js","sourcesContent":["import React from 'react';\r\nimport headerLogoPath from '../../images/header-logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={headerLogoPath} alt=\"Логотип\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","class Api {\r\n  constructor(options) {\r\n    this._url = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: this._headers\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  sendUserInfo(data) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  postNewCard(data) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  changeLike(cardId, isLiked) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'PUT' : 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  changeAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data\r\n      })\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\r\n  headers: {\r\n    authorization: 'd92f283c-c212-4fc6-810d-3af1a30b9902',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card({ card, handleCard, handleCardLike, handleCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = currentUser._id === card.owner._id;\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `place__delete-button ${isOwn ? 'place__delete-button_visible' : 'place__delete-button_hidden'}`\r\n    );\r\n\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = `place__like-button ${isLiked && 'place__like-button_active'}`;\r\n\r\n    function handleClick() {\r\n        handleCard(card);\r\n    }\r\n\r\n    return (\r\n        <div className=\"place\">\r\n            <button className=\"place__image-button\" onClick={handleClick}><img className=\"place__image\" src={card.link} alt={card.name} /></button>\r\n            <div className=\"place__info\">\r\n                <p className=\"place__heading\">{card.name}</p>\r\n                <div className=\"place__buttons\">\r\n                    <button className={cardLikeButtonClassName} onClick={() => handleCardLike(card)} aria-label=\"Мне нравится\" type=\"button\"></button>\r\n                    <button className=\"place__sumoflikes-button\" aria-label=\"Количество лайков\" type=\"button\">{card.likes ? card.likes.length : 0}</button>\r\n                </div>\r\n            </div>\r\n            <button className={cardDeleteButtonClassName} onClick={() => handleCardDelete(card)} aria-label=\"Удалить картинку\" type=\"button\"></button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;","import React, { useState, useEffect } from 'react';\r\nimport api from '../../utils/api';\r\nimport Card from '../Card/Card';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nfunction Main({ cards, onEditProfile, onAddPlace, onEditAvatar, onCardClick, handleCardLike, handleCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"cover\">\r\n        <div className=\"cover__profile\">\r\n          <button className=\"cover__image\" style={{ backgroundImage: `url(${currentUser.avatar})` }} onClick={onEditAvatar}></button>\r\n          <div className=\"cover__heading-info\">\r\n            <h1 className=\"cover__heading\">{currentUser.name}</h1>\r\n            <button className=\"cover__edit\" onClick={onEditProfile} aria-label=\"Редактировать\" type=\"button\"></button>\r\n          </div>\r\n          <p className=\"cover__subheading\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"cover__add\" onClick={onAddPlace} aria-label=\"Добавить\" type=\"button\"></button>\r\n      </section>\r\n      <section className=\"places\">\r\n        {cards.map((item) => (<Card key={item._id} card={item} handleCard={onCardClick} handleCardLike={(card) => handleCardLike(card)} handleCardDelete={(card) => handleCardDelete(card)} />))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n    return (\r\n        <section className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n              <form className={`popup__container popup__container_type_${props.name} popup__item`} name={`popup__container_type_${props.name}`} onSubmit={props.onSubmit} noValidate>\r\n                <h2 className={`popup__heading popup__heading_type_${props.name}`}>{props.title}</h2>\r\n                    {props.children}\r\n                    <button className={`popup__add-button popup__add-button_type_${props.name}`}  type=\"submit\">\r\n                      {props.buttonText}\r\n                  </button>\r\n                    <button className={`popup__close-button popup__close-button_type_${props.name}`} type=\"button\" onClick={props.onClose}></button>\r\n            </form>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <section className={`popup popup_type_photo ${card && 'popup_opened'}`} >\r\n      <div className=\"popup__image-group popup__item\">\r\n        <img className=\"popup__image\" src={card ? card.link : ''} alt={card ? card.name : ''} />\r\n        <p className=\"popup__text popup__text_type_photo\">{card ? card.name : ''}</p>\r\n        <button className=\"popup__close-button popup__close-button_type_photo\" onClick={onClose} type=\"button\"></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy;2020&nbsp;Mesto&nbsp;Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React, { useState, useEffect } from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n            avatar: currentUser.avatar,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" buttonText={isLoading ? \"Сохранение...\" : \"Сохранить\"} isOpen={isOpen} onClose={onClose} onSubmit={(e) => handleSubmit(e)}>\r\n            <label className=\"popup__input\">\r\n                <input onChange={(e) => setName(e.target.value)} type=\"text\" className=\"popup__text popup__text_type_name\" name=\"popup__text_type_name\" placeholder=\"Имя исследователя\" minLength=\"2\" maxLength=\"40\" required />\r\n                <span className=\"popup__input-error\">Вы пропустили это поле.</span>\r\n            </label>\r\n            <label className=\"popup__input\">\r\n                <input onChange={(e) => setDescription(e.target.value)} type=\"text\" className=\"popup__text popup__text_type_job\" name=\"popup__text_type_job\" placeholder=\"Профессия исследователя\" minLength=\"2\" maxLength=\"200\" required />\r\n                <span className=\"popup__input-error\">Вы пропустили это поле.</span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(avatarRef.current.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" buttonText={isLoading ? \"Сохранение...\" : \"Сохранить\"} isOpen={isOpen} onClose={onClose} onSubmit={(e) => handleSubmit(e)}>\r\n            <label className=\"popup__input\">\r\n                <input ref={avatarRef} type=\"url\" className=\"popup__text popup__text_type_placelink\" name=\"popup__text_type_placelink\" placeholder=\"https://unsplash.com/example.jpg\" required />\r\n                <span className=\"popup__input-error\">Введите адрес сайта.</span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onUpdateCard, isLoading }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const card = {\r\n            name: name,\r\n            link: link,\r\n            owner: {\r\n                _id: currentUser._id,\r\n            },\r\n            likes: [],\r\n        }\r\n        onUpdateCard(card);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"place\" title=\"Новое место\" buttonText={isLoading ? \"Сохранение...\" : \"Сохранить\"} isOpen={isOpen} onClose={onClose} onSubmit={(e) => handleSubmit(e)}>\r\n            <label className=\"popup__input\">\r\n                <input onChange={(e) => setName(e.target.value)} type=\"text\" className=\"popup__text popup__text_type_placename\" name=\"popup__text_type_placename\" placeholder=\"Горный Алтай\" minLength=\"1\" maxLength=\"30\" required />\r\n                <span className=\"popup__input-error\">Вы пропустили это поле.</span>\r\n            </label>\r\n            <label className=\"popup__input\">\r\n                <input onChange={(e) => setLink(e.target.value)} type=\"url\" className=\"popup__text popup__text_type_placelink\" name=\"popup__text_type_placelink\" placeholder=\"https://unsplash.com/example.jpg\" required />\r\n                <span className=\"popup__input-error\">Введите адрес сайта.</span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\n\r\nfunction AddDeletePopup({ isOpen, onClose, onSubmit }) {\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onSubmit();\r\n        onClose();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"delete\" title=\"Вы уверены?\" buttonText=\"Да\" isOpen={isOpen} onClose={onClose} onSubmit={(e) => handleSubmit(e)}>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddDeletePopup;","export class FormValidator {\r\n    constructor(data, form) {\r\n        this._form = form;\r\n        this._inputList = Array.from(this._form.querySelectorAll(data.inputSelector));\r\n        this._button = this._form.querySelector(data.buttonSelector);\r\n        this._fieldSelector = data.fieldSelector;\r\n        this._errorSelector = data.errorSelector;\r\n    }\r\n\r\n    _setEventListeners() {\r\n        this._form.addEventListener('submit', (evt) => {\r\n            evt.preventDefault();\r\n        });\r\n\r\n        this._toggleSubmitButton();\r\n\r\n        this._inputList.forEach((formInput) => {\r\n            const formError = formInput.closest(this._fieldSelector).querySelector(this._errorSelector);\r\n            formInput.addEventListener('input', () => {\r\n                this._isValid(formInput, formError);\r\n                this._toggleSubmitButton();\r\n            });\r\n        });\r\n    }\r\n\r\n    _isValid(formInput, formError) {\r\n        if (!formInput.validity.valid) {\r\n            this._showInputError(formInput, formError);\r\n        }\r\n        else {\r\n            this._hideInputError(formInput, formError);\r\n        }\r\n    }\r\n\r\n    _showInputError(formInput, formError) {\r\n        formError.classList.add('popup__input-error_active');\r\n        formInput.classList.add('popup__text_type_error');\r\n        if (formInput) {\r\n            formError.textContent = formInput.validationMessage;\r\n        }\r\n    }\r\n\r\n    _hideInputError(formInput, formError) {\r\n        formError.classList.remove('popup__input-error_active');\r\n        formInput.classList.remove('popup__text_type_error');\r\n        formError.textContent = '';\r\n    }\r\n\r\n    formReset() {\r\n        this._inputList.forEach((input) => {\r\n            const formError = input.closest(this._fieldSelector).querySelector(this._errorSelector);\r\n            this._hideInputError(input, formError);\r\n            this._form.reset();\r\n            this._toggleSubmitButton();\r\n        });\r\n    }\r\n\r\n\r\n    _toggleSubmitButton() {\r\n        if (this._hasInvalidInput()) {\r\n            this._button.classList.add('popup__add-button_inactive');\r\n            this._button.setAttribute('disabled', true);\r\n        }\r\n        else {\r\n            this._button.classList.remove('popup__add-button_inactive');\r\n            this._button.removeAttribute('disabled');\r\n        }\r\n    }\r\n\r\n    _hasInvalidInput() {\r\n        return (this._inputList.some((input) => {\r\n            return !input.validity.valid;\r\n        }));\r\n    }\r\n\r\n\r\n    enableValidation() {\r\n        this._setEventListeners();\r\n    }\r\n}\r\n\r\nexport const selectors = {\r\n    formSelector: '.popup__container',\r\n    fieldSelector: '.popup__input',\r\n    inputSelector: '.popup__text',\r\n    errorSelector: '.popup__input-error',\r\n    buttonSelector: '.popup__add-button',\r\n    \r\n};\r\n\r\n\r\n","import React, { useState, useEffect } from 'react';\nimport Header from './Header/Header';\nimport Main from './Main/Main';\nimport PopupWithForm from './PopupWithForm/PopupWithForm';\nimport ImagePopup from './ImagePopup/ImagePopup';\nimport Footer from './Footer/Footer';\nimport api from '../utils/api';\nimport EditProfilePopup from './EditProfilePopup/EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup/EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup/AddPlacePopup';\nimport AddDeletePopup from './AddDeletePopup/AddDeletePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { FormValidator, selectors } from '../utils/formValidator';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setDeletePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState();\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [cardToDelete, setCardToDelete] = useState({});\n\n  //загрузка с сервера данных пользователя\n  useEffect(() => {\n    api.getUserInfo()\n      .then(res => {\n        setCurrentUser(res);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  //загрузка карточек с сервера\n  useEffect(() => {\n    api.getInitialCards()\n      .then((items) => {\n        setCards(items);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  //функция добавления и удаления лайков карточки\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLike(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  //открытие попапов редактирования профиля, аватара и добавления нового места\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  //вадидация формы добавления нового места и сброса ошибок валидации при закрытии формы\n  useEffect(() => {\n    const placeValidator = new FormValidator(selectors, document.querySelector('.popup__container_type_place'));\n    placeValidator.enableValidation();\n\n    return placeValidator.formReset();\n  }, [isAddPlacePopupOpen])\n\n  //вадидация формы редактирования профиля и сброса ошибок валидации при закрытии формы\n  useEffect(() => {\n    const profileValidator = new FormValidator(selectors, document.querySelector('.popup__container_type_profile'));\n    profileValidator.enableValidation();\n\n    return profileValidator.formReset();\n  }, [isEditProfilePopupOpen])\n\n  //вадидация формы редактирования аватара и сброса ошибок валидации при закрытии формы\n  useEffect(() => {\n    const avatarValidator = new FormValidator(selectors, document.querySelector('.popup__container_type_avatar'));\n    avatarValidator.enableValidation();\n\n    return avatarValidator.formReset();\n  }, [isEditAvatarPopupOpen])\n\n  //закрытие всех попапов\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeletePopupOpen(false);\n    setSelectedCard(undefined);\n  }\n\n  //открытие попапа с фото карточки по клику на карточку\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  //изменение данных пользователя при сабмите формы редактирования профиля\n  function handleUpdateUser(user) {\n    setIsLoading(true);\n    api.sendUserInfo(user)\n      .then(() => {\n        closeAllPopups();\n        setCurrentUser(user);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false));\n  }\n\n  //изменение аватара при сабмите формы изменения аватара\n  function handleUpdateAvatar(avatar) {\n    setIsLoading(true);\n    api.changeAvatar(avatar)\n      .then(() => {\n        closeAllPopups();\n        setCurrentUser({\n          name: currentUser.name,\n          about: currentUser.about,\n          avatar: avatar,\n        })\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false));\n  }\n\n  //добавление новой карточки при сабмите формы добавления карточки\n  function handleAddPlaceSubmit(card) {\n    setIsLoading(true);\n    api.postNewCard(card)\n      .then(() => {\n        setCards([...cards, card]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false));\n  }\n\n  //удаление карточки\n  function handleCardDelete(card) {\n    setDeletePopupOpen(true);\n    setCardToDelete(card);\n  }\n\n  function cardDelete(){\n    api.deleteCard(cardToDelete._id)\n      .then(() => {\n        setCards(cards.filter(item => item._id !== cardToDelete._id));\n      })\n      .catch((err) => console.log(err));\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main cards={cards} handleCardLike={(card) => handleCardLike(card)} handleCardDelete={(card) => handleCardDelete(card)} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} />\n        <EditProfilePopup isLoading={isLoading} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={(user) => handleUpdateUser(user)} />\n        <AddPlacePopup isLoading={isLoading} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onUpdateCard={(card) => handleAddPlaceSubmit(card)} />\n        <AddDeletePopup isOpen={isDeletePopupOpen} onClose={closeAllPopups} onSubmit={cardDelete} />\n        <EditAvatarPopup isLoading={isLoading} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={(avatar) => handleUpdateAvatar(avatar)} />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/header-logo.855a8c98.svg\";"],"sourceRoot":""}